
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../pip/">
      
      
        <link rel="next" href="../authenticated_channels/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.17">
    
    
      
        <title>Flags - conda-lock</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.bcfcd587.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#options" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="conda-lock" class="md-header__button md-logo" aria-label="conda-lock" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            conda-lock
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Flags
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/conda/conda-lock" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="conda-lock" class="md-nav__button md-logo" aria-label="conda-lock" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    conda-lock
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/conda/conda-lock" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting_started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Source Formats
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Source Formats
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../src_environment_yml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    environment.yml
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../src_meta_yaml/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    meta.yaml
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../src_pyproject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pyproject.toml
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../output/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Output Formats
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../pip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pip integration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Flags
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Flags
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#-conda" class="md-nav__link">
    <span class="md-ellipsis">
      --conda
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-mamba" class="md-nav__link">
    <span class="md-ellipsis">
      --mamba
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-filename-template" class="md-nav__link">
    <span class="md-ellipsis">
      --filename-template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-channel" class="md-nav__link">
    <span class="md-ellipsis">
      --channel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-platform" class="md-nav__link">
    <span class="md-ellipsis">
      --platform
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-dev-dependencies-no-dev-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      --dev-dependencies/--no-dev-dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-extras-or-categories" class="md-nav__link">
    <span class="md-ellipsis">
      --extras or --categories
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-check-input-hash" class="md-nav__link">
    <span class="md-ellipsis">
      --check-input-hash
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-strip-auth-auth-and-auth-file" class="md-nav__link">
    <span class="md-ellipsis">
      --strip-auth, --auth and --auth-file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-virtual-package-spec" class="md-nav__link">
    <span class="md-ellipsis">
      --virtual-package-spec
    </span>
  </a>
  
    <nav class="md-nav" aria-label="--virtual-package-spec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-hash-stability" class="md-nav__link">
    <span class="md-ellipsis">
      Input hash stability
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../authenticated_channels/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authenticated Channels
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/gen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#-conda" class="md-nav__link">
    <span class="md-ellipsis">
      --conda
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-mamba" class="md-nav__link">
    <span class="md-ellipsis">
      --mamba
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-filename-template" class="md-nav__link">
    <span class="md-ellipsis">
      --filename-template
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-channel" class="md-nav__link">
    <span class="md-ellipsis">
      --channel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-platform" class="md-nav__link">
    <span class="md-ellipsis">
      --platform
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-dev-dependencies-no-dev-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      --dev-dependencies/--no-dev-dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-extras-or-categories" class="md-nav__link">
    <span class="md-ellipsis">
      --extras or --categories
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-check-input-hash" class="md-nav__link">
    <span class="md-ellipsis">
      --check-input-hash
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-strip-auth-auth-and-auth-file" class="md-nav__link">
    <span class="md-ellipsis">
      --strip-auth, --auth and --auth-file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#-virtual-package-spec" class="md-nav__link">
    <span class="md-ellipsis">
      --virtual-package-spec
    </span>
  </a>
  
    <nav class="md-nav" aria-label="--virtual-package-spec">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-hash-stability" class="md-nav__link">
    <span class="md-ellipsis">
      Input hash stability
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="options">Options</h1>
<h2 id="-conda">--conda</h2>
<p>If you wish to specify a particular conda/mamba executable to use to perform the solve this can be provided as follows</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>--conda<span class="w"> </span>some_path_to_conda
</code></pre></div>
<hr />
<h2 id="-mamba">--mamba</h2>
<p>If you want to make use of mamba in order to perform faster solves this can be enabled with</p>
<div class="highlight"><pre><span></span><code>conda-lock --mamba some_path_to_conda
</code></pre></div>
<p>If mamba is not installed, it will attempt to install it using <a href="https://github.com/conda-incubator/ensureconda">ensureconda</a></p>
<hr />
<h2 id="-filename-template">--filename-template</h2>
<p>By default, <code>conda-lock</code> store its output in <code>conda-lock.yml</code> in the current
working directory. This file will also be used by default for render, install,
and update operations. You can supply a different filename with e.g.</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>--lockfile<span class="w"> </span>superspecial.conda-lock.yml
</code></pre></div>
<p>The extension <code>.conda-lock.yml</code> will be added if not present. Rendered
environment files (env or explicit) will be named as as
<code>"conda-{platform}.lock"</code>.</p>
<p>If you want to override that call conda-lock as follows.</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>-k<span class="w"> </span>explicit<span class="w"> </span>--filename-template<span class="w"> </span><span class="s2">&quot;specific-{platform}.conda.lock&quot;</span>
</code></pre></div>
<p>The following fields are available for templating</p>
<table>
<thead>
<tr>
<th>field</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>platform</td>
<td>the platform for lock file (conda subdir)</td>
</tr>
<tr>
<td>dev-dependencies</td>
<td>true/false flag for --dev-dependencies</td>
</tr>
<tr>
<td>input-hash</td>
<td>a sha256 hash of the lock file input specification</td>
</tr>
<tr>
<td>version</td>
<td>the version of conda-lock used</td>
</tr>
<tr>
<td>timestamp</td>
<td>the timestamp of the output file in ISO8601 basic format</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="-channel">--channel</h2>
<p>You can override the channels that are used by conda-lock in case you need to override the ones specified in
an [environment.yml][envyaml] or any of the other supported formats.</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>--channel<span class="w"> </span>conda-forge
</code></pre></div>
<hr />
<h2 id="-platform">--platform</h2>
<p>You may specify the platforms you wish to target by default directly in an [environment.yml][envyaml]</p>
<p>If you specify target platforms on the command line with <code>--platform</code>, these will
override the values in the environment specification. If neither <code>platforms</code> (from source files) nor
<code>--platforms</code> are provided, <code>conda-lock</code> will fall back to a default set of platforms.</p>
<hr />
<h2 id="-dev-dependencies-no-dev-dependencies">--dev-dependencies/--no-dev-dependencies</h2>
<p>By default conda-lock will include dev dependencies in the specification of the lock (if the files that the lock
is being built from support them).  This can be disabled easily</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>--no-dev-dependencies<span class="w"> </span>--file<span class="w"> </span>./recipe/meta.yaml
</code></pre></div>
<hr />
<h2 id="-extras-or-categories">--extras or --categories</h2>
<p>If your source files contains optional dependencies/extras these can be included in the output of a <code>render</code> by using the
flag.</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>--extra<span class="w"> </span>mysql<span class="w"> </span>--extra<span class="w"> </span>pgsql<span class="w"> </span>-f<span class="w"> </span>pyproject.toml
</code></pre></div>
<p>When generating lockfiles that make use of extras it is recommended to make use of <code>--filename-template</code> covered <a href="#file-naming">here</a>.</p>
<div class="admonition note">
<p>By default conda-lock will attempt to solve for <em>ALL</em> extras/categories it discovers in sources.  This allows you to <em>render</em> or <em>install</em>
from lockfiles of extras without needing to re-lock.</p>
<p>However this does make the assumption that <em>all</em> extras are installed, <em>and</em> installable in conjunction with each other.
If you want extras filtering to happen at the before solving use the flag <code>--filter-categories</code> or <code>--filter-extras</code></p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>--extra<span class="w"> </span>incompatiblea<span class="w"> </span>--filter-categories<span class="w"> </span>-f<span class="w"> </span>pyproject.toml
</code></pre></div>
<p>This will use categories from <code>--extras/--categories</code> flag as a filter at the specification build time.</p>
</div>
<hr />
<h2 id="-check-input-hash">--check-input-hash</h2>
<p>Under some situation you may want to run conda lock in some kind of automated way (eg as a precommit) and want to not
need to regenerate the lockfiles if the underlying input specification for that particular lock as not changed.</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>--check-input-hash<span class="w"> </span>--platform<span class="w"> </span>linux-64
</code></pre></div>
<p>When the input_hash of the input files, channels match those present in a given lockfile, that lockfile will not be regenerated.</p>
<hr />
<!-- BEGIN INCLUDE ./flags/strip-auth.md -->
<h2 id="-strip-auth-auth-and-auth-file">--strip-auth, --auth and --auth-file</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This flag is only used for basic auth.</p>
</div>
<p>By default <code>conda-lock</code> will leave basic auth credentials for private conda channels <em>in the manner in which they were specified</em>.</p>
<p>This means that if you should specified your channel as</p>
<div class="admonition success">
<p class="admonition-title">Non-leaky credentials</p>
<div class="highlight"><span class="filename">environment.yml</span><pre><span></span><code><span class="nt">channels</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://$CHANNEL_USER:$CHANNEL_PASSWORD@host.com/channel</span>
</code></pre></div>
<div class="admonition note">
<p>The environment variables <code>CHANNEL_USER</code> and <code>CHANNEL_PASSWORD</code> will be required at install time.</p>
</div>
</div>
<div class="admonition fail">
<p class="admonition-title">Leaky credentials</p>
<div class="highlight"><span class="filename">environment.yml</span><pre><span></span><code><span class="nt">channels</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://username:password123@host.com/channel</span>
</code></pre></div>
</div>
<p>When used with explicit/env render targets you may wish to strip the basic auth from these files (regardless of if it is correctly or incorrectly specified).</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>--strip-auth<span class="w"> </span>--file<span class="w"> </span>environment.yml
</code></pre></div>
<p>In order to <code>conda-lock install</code> a lock file with its basic auth credentials stripped, you will need to create an authentication file in <code>.json</code> format like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;domain&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;username:password&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>If you have multiple channels that require different authentication within the same domain, you can additionally specify the channel like this:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;domain.org/channel1&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;username1:password1&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;domain.org/channel2&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;username2:password2&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>You can provide the authentication either as a yaml/json string through <code>--auth</code></p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>install<span class="w"> </span>--auth<span class="w"> </span><span class="s2">&quot;{domain: &#39;username:</span><span class="nv">$PASSWORD</span><span class="s2">&#39;}&quot;</span><span class="w"> </span>conda-linux-64.lock
</code></pre></div>
<p>or as a filepath through  <code>--auth-file</code>.</p>
<div class="highlight"><pre><span></span><code>conda-lock<span class="w"> </span>install<span class="w"> </span>--auth-file<span class="w"> </span>auth.json<span class="w"> </span>conda-linux-64.lock
</code></pre></div>
<!-- END INCLUDE -->

<hr />
<h2 id="-virtual-package-spec">--virtual-package-spec</h2>
<p>Conda makes use of <a href="https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-virtual.html">virtual packages</a> that are available at
runtime to gate dependency on system features.  Due to these not generally existing on your local execution platform conda-lock will inject
them into the solution environment with a reasonable guess at what a default system configuration should be.</p>
<p>If you want to override which virtual packages are injected you can create a virtual package spec file</p>
<div class="highlight"><span class="filename">virtual-packages.yml</span><pre><span></span><code><span class="nt">subdirs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">linux-64</span><span class="p">:</span>
<span class="w">    </span><span class="nt">packages</span><span class="p">:</span>
<span class="w">      </span><span class="nt">__glibc</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;2.17&quot;</span>
<span class="w">      </span><span class="nt">__cuda</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;11.4&quot;</span>
<span class="w">  </span><span class="nt">win-64</span><span class="p">:</span>
<span class="w">    </span><span class="nt">packages</span><span class="p">:</span>
<span class="w">      </span><span class="nt">__cuda</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;11.4&quot;</span>
</code></pre></div>
<p>conda-lock will automatically use a <code>virtual-packages.yml</code> it finds in the the current working directory.  Alternatively one can be specified
explicitly via the flag.</p>
<div class="highlight"><pre><span></span><code>conda<span class="w"> </span>lock<span class="w"> </span>--virtual-package-spec<span class="w"> </span>virtual-packages-cuda.yml<span class="w"> </span>--platform<span class="w"> </span>linux-64
</code></pre></div>
<h3 id="input-hash-stability">Input hash stability</h3>
<p>Virtual packages take part in the input hash so if you build an environment with a different set of virtual packages the input hash will change.
Additionally the default set of virtual packages may be augmented in future versions of conda-lock.  If you desire very stable input hashes
we recommend creating a <code>virtual-packages.yml</code> file to lock down the virtual packages considered.</p>
<div class="admonition warning">
<p class="admonition-title">in conjunction with micromamba</p>
<p>Micromamba does not presently support some of the overrides to remove all discovered virtual packages, consequently the set of virtual packages
available at solve time may be larger than those specified in your specification.</p>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/conda/conda-lock" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "header.autohide", "navigation.indexes", "navigation.instant", "navigation.expand"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.1e8ae164.min.js"></script>
      
    
  </body>
</html>